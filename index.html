<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸŒ± IoT Smart Garden</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body { background: #f5f7fa; font-family: 'Segoe UI', sans-serif; }
.card { border-radius: 15px; box-shadow: 0 8px 20px rgba(0,0,0,0.12); margin-bottom: 20px; text-align:center; padding:20px;}
.sensor-value { font-size: 2rem; font-weight: bold; margin-top:10px; }
.gradient-card { background: linear-gradient(135deg,#6dd5ed,#2193b0); color:#fff; }
.gradient-card2 { background: linear-gradient(135deg,#f093fb,#f5576c); color:#fff; }
.gradient-card3 { background: linear-gradient(135deg,#43e97b,#38f9d7); color:#fff; }
</style>
</head>
<body> 
<div class="container py-4">
<h1 class="fw-bold text-center mb-4">ğŸŒ± IoT Smart Garden Dashboard</h1>
  
<!-- NÃºt truy cáº­p trá»±c tiáº¿p vÃ o OTA -->
<div class="text-center mb-4">
  <a href="http://10.25.118.157/update" target="_blank" class="btn btn-lg btn-success shadow-sm px-5">
    Cáº­p nháº­t Firmware ESP32 (OTA)
  </a>
</div>


<div class="row g-3 mb-3">
  <div class="col-md-4"><div class="card gradient-card"><div>ğŸŒ¿ Äá»™ áº©m Ä‘áº¥t</div><div class="sensor-value" id="soil">- %</div></div></div>
  <div class="col-md-4"><div class="card gradient-card2"><div>ğŸŒ¤ Nhiá»‡t Ä‘á»™</div><div class="sensor-value" id="temp">- Â°C</div></div></div>
  <div class="col-md-4"><div class="card gradient-card3"><div>ğŸ’§ Äá»™ áº©m KK</div><div class="sensor-value" id="hum">- %</div></div></div>
</div>

<div class="row g-3 mb-3">
  <div class="col-md-3"><div class="card"><div>Cháº¿ Ä‘á»™ hiá»‡n táº¡i</div><div class="sensor-value" id="currentMode">-</div></div></div>
  <div class="col-md-3"><div class="card"><div>BÆ¡m hiá»‡n táº¡i</div><div class="sensor-value" id="pumpStatusText">-</div></div></div>
  <div class="col-md-3"><div class="card"><div>ğŸ“‰ NgÆ°á»¡ng Min</div><div class="sensor-value" id="min_val">- %</div></div></div>
  <div class="col-md-3"><div class="card"><div>ğŸ“ˆ NgÆ°á»¡ng Max</div><div class="sensor-value" id="max_val">- %</div></div></div>
</div>

<div class="row g-3 mb-3">
  <div class="col-md-3"><div class="card"><div>ğŸš¿ DÃ²ng cháº£y</div><div class="sensor-value" id="flow">-</div></div></div>
  <div class="col-md-3"><div class="card"><div>â±ï¸ Thá»i gian tÆ°á»›i tiáº¿p theo</div><div class="sensor-value" id="next_time">- phÃºt</div></div></div>
</div>

<div class="row g-3 mt-3">
  <div class="col-md-4">
    <div class="card p-3 text-center">
      <div>ğŸ’¡ Chá»n cháº¿ Ä‘á»™</div>
      <select id="modeSelect" class="form-select mt-2">
        <option value="AUTO">AUTO</option>
        <option value="MANUAL">MANUAL</option>
        <option value="SCHEDULE">SCHEDULE</option>
        <option value="SLEEP">SLEEP</option>
      </select>
      <button class="btn btn-primary mt-2" id="modeApply">Gá»­i lá»‡nh</button>
    </div>
  </div>

  <div class="col-md-4">
    <div class="card p-3 text-center">
      <div>ğŸš° Báº­t/Táº¯t bÆ¡m</div>
      <div class="form-check form-switch d-flex justify-content-center mt-3">
        <input class="form-check-input" type="checkbox" id="pumpSwitch" style="transform: scale(1.8); cursor:pointer;">
      </div>
    </div>
  </div>

  <div class="col-md-4">
    <div class="card p-3 text-center">
      <div>âš¡ CÃ´ng suáº¥t bÆ¡m (%)</div>
      <input type="range" class="form-range" min="0" max="100" step="1" id="pumpPower">
      <span id="pumpPowerLabel">36%</span>
    </div>
  </div>
</div>

<div class="row g-3 mt-3">
  <div class="col-md-12">
    <div class="card p-3">
      <h5>Lá»‹ch tÆ°á»›i</h5>
      <div id="scheduleList" class="mb-2"></div>
      <div class="input-group mb-2">
        <input type="time" id="scheduleTime" class="form-control">
        <button class="btn btn-primary" id="addScheduleBtn">ThÃªm lá»‹ch</button>
      </div>
    </div>
  </div>
</div>

<div class="row g-3 mt-3">
  <div class="col-md-12">
    <div class="card p-3">
      <h5>Lá»‡nh chá» ESP thá»±c hiá»‡n</h5>
      <div id="commandList">-</div>
    </div>
  </div>
</div>
</div>

<div class="row g-3 mt-3">
  <div class="col-md-12">
    <div class="card p-3">
      <h5>ğŸ“œ Lá»‹ch sá»­ Ä‘iá»u khiá»ƒn</h5>
      <table class="table table-striped table-bordered text-center align-middle" id="historyTable">
        <thead class="table-light">
          <tr>
            <th>ID</th>
            <th>Cháº¿ Ä‘á»™</th>
            <th>BÆ¡m</th>
            <th>CÃ´ng suáº¥t</th>
            <th>Lá»‹ch tÆ°á»›i</th>
            <th>Thá»i gian</th>
          </tr>
        </thead>
        <tbody id="historyBody">
          <tr><td colspan="5">Äang táº£i...</td></tr>
        </tbody>
      </table>
    </div>
  </div>
</div>


<script src="script.js"></script>
</body>
</html>
